<div class="course {{course?.Locked ? 'locked' : ''}}"
    [style.background]="course?.Locked ? 
        'repeating-linear-gradient(
            90deg,' +
            course?.Type?.Color + ',' +
            course?.Type?.Color + ' 10px,' +
        '#FFFFFF 10px,
        #FFFFFF 20px
    )' : course?.Type?.Color"
    
    cdkDrag
    [cdkDragDisabled]="course?.Locked || CheckIfNotMatching() || isSelectedMoving"
    [cdkDragData]="course"
    (cdkDragStarted)="OnStarted($event)"
    (cdkDragReleased)="OnReleased($event)"
    (click)="Click($event)"
    
    [matTooltip]="course.ShowFrequency(settings)"
    matTooltipShowDelay="300"

    [matBadge]="(course?.Weeks == null) ? course?.CurrentAmount : course?.ScheduledMoves?.length" 
    matBadgePosition="after" 
    [matBadgeColor]="(course?.Weeks == null) ? 'primary' : 'accent'" 
    [matBadgeHidden]="course?.Weeks != null && course?.ScheduledMoves?.length == 0"

    [attr.proposition]="CheckIfAnyProposition()"
>
    <div class="course-placeholder" *cdkDragPlaceholder></div>
    <div [matBadge]="course?.ScheduleAmount" matBadgePosition="before" matBadgeColor="warn" [matBadgeHidden]="course?.Weeks != null"
        [attr.valid]="course?.ScheduleAmount == Floor(course!.FullAmount)"
    >
        <div class="details-field">
            <img *ngIf="CheckIfNotMatching()" src="/assets/pin.svg" class="pin">
            <img *ngIf="CheckIfMatching()" src="/assets/pin2.svg" class="pin">
        </div>
        <i *ngIf="course?.Weeks == null; else weeksText">{{course?.Type?.Name}}<br>
            {{(course!.FullAmount % 1 == 0) ? course?.FullAmount : Floor(course!.FullAmount)+'/'+Ceil(course!.FullAmount)}} {{(course!.FullAmount > 1) ? 'classes' : 'class'}}
        </i>
        <ng-template #weeksText>
            <i>{{course?.Type?.Name}}, {{course?.Room?.Name}}</i>
        </ng-template>
        <br/>
        <b>{{course?.Name}}</b>
        <br/>
        <div *ngFor="let coordinator of course?.Coordinators">
            <span [style.text-decoration]="CheckIfItsMe(coordinator.UserId) ? 'underline' : 'none'">{{coordinator.LastName | uppercase}} {{coordinator.FirstName}} {{coordinator.Titles.TitleBefore}} {{coordinator.Titles.TitleAfter}}</span>
            <br/>
        </div>
        <div *ngFor="let group of course?.Groups">
            {{group?.FullName}}
            <br/>
        </div>
    </div>
</div>