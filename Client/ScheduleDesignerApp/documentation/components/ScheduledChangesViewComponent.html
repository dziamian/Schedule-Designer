<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>schedule-designer-app documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">schedule-designer-app documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li
  >
  ScheduledChangesViewComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/components/scheduled-changes-view/scheduled-changes-view.component.ts</code>
</p>


    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>Komponent okna dialogowego do przeglądania i zarządzania zaplanowanymi zmianami w planie i propozycjami.</p>

    </p>


    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-scheduled-changes-view</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./scheduled-changes-view.component.css</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./scheduled-changes-view.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#data" >data</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#dialogRef" >dialogRef</a>
                            </li>
                            <li>
                                <a href="#isConnectedSubscription" >isConnectedSubscription</a>
                            </li>
                            <li>
                                <a href="#isInfoVisible" >isInfoVisible</a>
                            </li>
                            <li>
                                <a href="#loading" >loading</a>
                            </li>
                            <li>
                                <a href="#scheduledMoveInfo" >scheduledMoveInfo</a>
                            </li>
                            <li>
                                <a href="#scheduledMoves" >scheduledMoves</a>
                            </li>
                            <li>
                                <a href="#signalrSubscriptions" >signalrSubscriptions</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#Accept" >Accept</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy" >ngOnDestroy</a>
                            </li>
                            <li>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#Remove" >Remove</a>
                            </li>
                            <li>
                                <a href="#ShowFrequency" >ShowFrequency</a>
                            </li>
                            <li>
                                <a href="#ShowInfo" >ShowInfo</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(scheduleDesignerApiService: <a href="../injectables/ScheduleDesignerApiService.html" target="_self">ScheduleDesignerApiService</a>, data: <a href="../classes/ScheduledChangesDialogData.html" target="_self">ScheduledChangesDialogData</a>, dialogRef: <a href="../components/ScheduledChangesViewComponent.html" target="_self">MatDialogRef&lt;ScheduledChangesViewComponent&gt;</a>, signalrService: <a href="../injectables/SignalrService.html" target="_self">SignalrService</a>, snackBar: MatSnackBar)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="34" class="link-to-prism">src/app/components/scheduled-changes-view/scheduled-changes-view.component.ts:34</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>scheduleDesignerApiService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ScheduleDesignerApiService.html" target="_self" >ScheduleDesignerApiService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>data</td>
                                                  
                                                        <td>
                                                                        <code><a href="../classes/ScheduledChangesDialogData.html" target="_self" >ScheduledChangesDialogData</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>dialogRef</td>
                                                  
                                                        <td>
                                                                        <code><a href="../components/ScheduledChangesViewComponent.html" target="_self" >MatDialogRef&lt;ScheduledChangesViewComponent&gt;</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>signalrService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/SignalrService.html" target="_self" >SignalrService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>snackBar</td>
                                                  
                                                        <td>
                                                                    <code>MatSnackBar</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="Accept"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>Accept</b></span>
                        <a href="#Accept"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>Accept(selectedScheduledMove: <a href="../classes/ScheduledMoveDetails.html" target="_self">ScheduledMoveDetails</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="341"
                            class="link-to-prism">src/app/components/scheduled-changes-view/scheduled-changes-view.component.ts:341</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metoda wykonuje operację zaakceptowania propozycji w systemie.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>selectedScheduledMove</td>
                                    <td>
                                                <code><a href="../classes/ScheduledMoveDetails.html" target="_self" >ScheduledMoveDetails</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Wybrana propozycja</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <span ><b>ngOnDestroy</b></span>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestroy()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="414"
                            class="link-to-prism">src/app/components/scheduled-changes-view/scheduled-changes-view.component.ts:414</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="49"
                            class="link-to-prism">src/app/components/scheduled-changes-view/scheduled-changes-view.component.ts:49</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metoda przygotowująca komponent.
Pobiera dane dotyczące zaplanowanych zmian i propozycji, które należy wyświetlić.
Rozpoczyna odbieranie bieżących informacji z centrum SignalR dotyczących wybranych pozycji na planie.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="Remove"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>Remove</b></span>
                        <a href="#Remove"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>Remove(selectedScheduledMove: <a href="../classes/ScheduledMoveDetails.html" target="_self">ScheduledMoveDetails</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="266"
                            class="link-to-prism">src/app/components/scheduled-changes-view/scheduled-changes-view.component.ts:266</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metoda wykonuje operację usunięcia zaplanowanej zmiany lub propozycji z systemu.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>selectedScheduledMove</td>
                                    <td>
                                                <code><a href="../classes/ScheduledMoveDetails.html" target="_self" >ScheduledMoveDetails</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Wybrana zmiana lub propozycja</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ShowFrequency"></a>
                    <span class="name">
                        <span ><b>ShowFrequency</b></span>
                        <a href="#ShowFrequency"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ShowFrequency(weeks: number[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="243"
                            class="link-to-prism">src/app/components/scheduled-changes-view/scheduled-changes-view.component.ts:243</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>weeks</td>
                                    <td>
                                            <code>number[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ShowInfo"></a>
                    <span class="name">
                        <span ><b>ShowInfo</b></span>
                        <a href="#ShowInfo"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ShowInfo(selectedScheduledMove: <a href="../classes/ScheduledMoveDetails.html" target="_self">ScheduledMoveDetails</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="251"
                            class="link-to-prism">src/app/components/scheduled-changes-view/scheduled-changes-view.component.ts:251</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metoda wyświetlająca dodatkowe informacje na temat wybranej zmiany lub propozycji.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>selectedScheduledMove</td>
                                    <td>
                                                <code><a href="../classes/ScheduledMoveDetails.html" target="_self" >ScheduledMoveDetails</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Wybrana zmiana lub propozycja</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="data"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>data</b></span>
                        <a href="#data"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/ScheduledChangesDialogData.html" target="_self" >ScheduledChangesDialogData</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @Inject(MAT_DIALOG_DATA)<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="38" class="link-to-prism">src/app/components/scheduled-changes-view/scheduled-changes-view.component.ts:38</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dialogRef"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>dialogRef</b></span>
                        <a href="#dialogRef"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../components/ScheduledChangesViewComponent.html" target="_self" >MatDialogRef&lt;ScheduledChangesViewComponent&gt;</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="39" class="link-to-prism">src/app/components/scheduled-changes-view/scheduled-changes-view.component.ts:39</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isConnectedSubscription"></a>
                    <span class="name">
                        <span ><b>isConnectedSubscription</b></span>
                        <a href="#isConnectedSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Subscription</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="31" class="link-to-prism">src/app/components/scheduled-changes-view/scheduled-changes-view.component.ts:31</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isInfoVisible"></a>
                    <span class="name">
                        <span ><b>isInfoVisible</b></span>
                        <a href="#isInfoVisible"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="25" class="link-to-prism">src/app/components/scheduled-changes-view/scheduled-changes-view.component.ts:25</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loading"></a>
                    <span class="name">
                        <span ><b>loading</b></span>
                        <a href="#loading"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>true</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="30" class="link-to-prism">src/app/components/scheduled-changes-view/scheduled-changes-view.component.ts:30</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Informuje czy dane zostały załadowane.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="scheduledMoveInfo"></a>
                    <span class="name">
                        <span ><b>scheduledMoveInfo</b></span>
                        <a href="#scheduledMoveInfo"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>ScheduledMoveInfo | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="27" class="link-to-prism">src/app/components/scheduled-changes-view/scheduled-changes-view.component.ts:27</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Dodatkowe informacje o wybranym przez użytkownika ruchu.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="scheduledMoves"></a>
                    <span class="name">
                        <span ><b>scheduledMoves</b></span>
                        <a href="#scheduledMoves"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>ScheduledMoveDetails[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="23" class="link-to-prism">src/app/components/scheduled-changes-view/scheduled-changes-view.component.ts:23</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Informacje o wszystkich ruchach, które należy wyświetlić na ekranie.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="signalrSubscriptions"></a>
                    <span class="name">
                        <span ><b>signalrSubscriptions</b></span>
                        <a href="#signalrSubscriptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Subscription[]</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="34" class="link-to-prism">src/app/components/scheduled-changes-view/scheduled-changes-view.component.ts:34</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Utworzone subskrypcje odbierające powiadomienia z centrum SignalR.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, Inject, OnInit } from &#x27;@angular/core&#x27;;
import { MatDialogRef, MAT_DIALOG_DATA } from &#x27;@angular/material/dialog&#x27;;
import { MatSnackBar } from &#x27;@angular/material/snack-bar&#x27;;
import { forkJoin, Observable, Subscription } from &#x27;rxjs&#x27;;
import { skip } from &#x27;rxjs/operators&#x27;;
import { CourseEdition } from &#x27;src/app/others/CourseEdition&#x27;;
import { ScheduledChangesDialogData, ScheduledChangesDialogResult } from &#x27;src/app/others/dialogs/ScheduledChangesDialog&#x27;;
import { ScheduledMoveDetails, ScheduledMoveInfo } from &#x27;src/app/others/ScheduledMove&#x27;;
import { ScheduleDesignerApiService } from &#x27;src/app/services/ScheduleDesignerApiService/schedule-designer-api.service&#x27;;
import { SignalrService } from &#x27;src/app/services/SignalrService/signalr.service&#x27;;

/**
 * Komponent okna dialogowego do przeglądania i zarządzania zaplanowanymi zmianami w planie i propozycjami.
 */
@Component({
  selector: &#x27;app-scheduled-changes-view&#x27;,
  templateUrl: &#x27;./scheduled-changes-view.component.html&#x27;,
  styleUrls: [&#x27;./scheduled-changes-view.component.css&#x27;]
})
export class ScheduledChangesViewComponent implements OnInit {

  /** Informacje o wszystkich ruchach, które należy wyświetlić na ekranie. */
  scheduledMoves:ScheduledMoveDetails[] &#x3D; [];
  
  isInfoVisible:boolean &#x3D; false;
  /** Dodatkowe informacje o wybranym przez użytkownika ruchu. */
  scheduledMoveInfo:ScheduledMoveInfo|null &#x3D; null;

  /** Informuje czy dane zostały załadowane. */
  loading:boolean &#x3D; true;
  isConnectedSubscription: Subscription;

  /** Utworzone subskrypcje odbierające powiadomienia z centrum SignalR. */
  signalrSubscriptions: Subscription[];

  constructor(
    private scheduleDesignerApiService:ScheduleDesignerApiService,
    @Inject(MAT_DIALOG_DATA) public data:ScheduledChangesDialogData,
    public dialogRef:MatDialogRef&lt;ScheduledChangesViewComponent&gt;,
    private signalrService:SignalrService,
    private snackBar:MatSnackBar
  ) { }

  /**
   * Metoda przygotowująca komponent.
   * Pobiera dane dotyczące zaplanowanych zmian i propozycji, które należy wyświetlić.
   * Rozpoczyna odbieranie bieżących informacji z centrum SignalR dotyczących wybranych pozycji na planie.
   */
  ngOnInit(): void {
    this.dialogRef.backdropClick().subscribe(event &#x3D;&gt; {
      this.dialogRef.close(ScheduledChangesDialogResult.EMPTY);
    });

    this.isConnectedSubscription &#x3D; this.signalrService.isConnected.pipe(skip(1)).subscribe((status) &#x3D;&gt; {
      if (!status &amp;&amp; !this.signalrService.connectionIntentionallyStopped) {
        this.dialogRef.close(ScheduledChangesDialogResult.EMPTY);
      }
    });

    this.signalrSubscriptions &#x3D; [];

    this.signalrSubscriptions.push(this.signalrService.lastModifiedSchedulePositions.pipe(skip(1)).subscribe((modifiedSchedulePositions) &#x3D;&gt; {
      this.scheduledMoves &#x3D; this.scheduledMoves.filter((scheduledMove) &#x3D;&gt; !modifiedSchedulePositions.MovesIds.includes(scheduledMove.MoveId));

      if (this.data.CourseEdition.CourseId &#x3D;&#x3D; modifiedSchedulePositions.SourceSchedulePosition.CourseId &amp;&amp;
        this.data.CourseEdition.CourseEditionId !&#x3D; modifiedSchedulePositions.SourceSchedulePosition.CourseEditionId &amp;&amp;
        this.data.CourseEdition.Room?.RoomId !&#x3D; modifiedSchedulePositions.SourceSchedulePosition.RoomId &amp;&amp;
        this.data.SrcIndexes[1] !&#x3D; modifiedSchedulePositions.SourceSchedulePosition.PeriodIndex - 1 &amp;&amp;
        this.data.SrcIndexes[0] !&#x3D; modifiedSchedulePositions.SourceSchedulePosition.Day - 1) {
          if (this.data.CourseEdition.Weeks !&#x3D; null) {
            this.data.CourseEdition.Weeks &#x3D; this.data.CourseEdition.Weeks?.filter((week) &#x3D;&gt; !modifiedSchedulePositions.SourceSchedulePosition.Weeks.includes(week));
          }
      }

      if (this.data.CourseEdition.Weeks?.length &#x3D;&#x3D; 0) {
        const dialogResult &#x3D; new ScheduledChangesDialogResult();
        dialogResult.Message &#x3D; &quot;This course does not exist here anymore.&quot;;
        this.dialogRef.close(dialogResult);
        return;
      }

      if (this.scheduledMoves.length &#x3D;&#x3D; 0) {
        const dialogResult &#x3D; new ScheduledChangesDialogResult();
        dialogResult.Message &#x3D; &quot;No scheduled changes left for this position.&quot;;
        this.dialogRef.close(dialogResult);
        return;
      }
    }));

    this.signalrSubscriptions.push(this.signalrService.lastRemovedSchedulePositions.pipe(skip(1)).subscribe((removedSchedulePositions) &#x3D;&gt; {
      this.scheduledMoves &#x3D; this.scheduledMoves.filter((scheduledMove) &#x3D;&gt; !removedSchedulePositions.MovesIds.includes(scheduledMove.MoveId));

      if (this.data.CourseEdition.CourseId &#x3D;&#x3D; removedSchedulePositions.SchedulePosition.CourseId &amp;&amp;
        this.data.CourseEdition.CourseEditionId !&#x3D; removedSchedulePositions.SchedulePosition.CourseEditionId &amp;&amp;
        this.data.CourseEdition.Room?.RoomId !&#x3D; removedSchedulePositions.SchedulePosition.RoomId &amp;&amp;
        this.data.SrcIndexes[1] !&#x3D; removedSchedulePositions.SchedulePosition.PeriodIndex - 1 &amp;&amp;
        this.data.SrcIndexes[0] !&#x3D; removedSchedulePositions.SchedulePosition.Day - 1) {
          if (this.data.CourseEdition.Weeks !&#x3D; null) {
            this.data.CourseEdition.Weeks &#x3D; this.data.CourseEdition.Weeks?.filter((week) &#x3D;&gt; !removedSchedulePositions.SchedulePosition.Weeks.includes(week));
          }
      }

      if (this.data.CourseEdition.Weeks?.length &#x3D;&#x3D; 0) {
        const dialogResult &#x3D; new ScheduledChangesDialogResult();
        dialogResult.Message &#x3D; &quot;This course does not exist here anymore.&quot;;
        this.dialogRef.close(dialogResult);
        return;
      }

      if (this.scheduledMoves.length &#x3D;&#x3D; 0) {
        const dialogResult &#x3D; new ScheduledChangesDialogResult();
        dialogResult.Message &#x3D; &quot;No scheduled changes left for this position.&quot;;
        this.dialogRef.close(dialogResult);
        return;
      }
    }));

    this.signalrSubscriptions.push(this.signalrService.lastLockedSchedulePositions.pipe(skip(1)).subscribe((lockedSchedulePositions) &#x3D;&gt; {
      if (this.data.CourseEdition.CourseId !&#x3D; lockedSchedulePositions.CourseId ||
        this.data.CourseEdition.CourseEditionId !&#x3D; lockedSchedulePositions.CourseEditionId ||
        this.data.CourseEdition.Room?.RoomId !&#x3D; lockedSchedulePositions.RoomId ||
        this.data.SrcIndexes[1] !&#x3D; lockedSchedulePositions.PeriodIndex - 1 ||
        this.data.SrcIndexes[0] !&#x3D; lockedSchedulePositions.Day - 1) {
          return;
      }

      this.scheduledMoves.forEach((scheduledMove) &#x3D;&gt; {
        if (scheduledMove.SourceWeeks.some((week) &#x3D;&gt; lockedSchedulePositions.Weeks.includes(week))) {
          scheduledMove.IsLocked &#x3D; lockedSchedulePositions.IsLocked;
          scheduledMove.IsLockedByAdmin &#x3D; lockedSchedulePositions.IsLockedByAdmin;
        }
      });
    }));

    this.signalrSubscriptions.push(this.signalrService.lastUnlockedSchedulePositions.pipe(skip(1)).subscribe((unlockedSchedulePositions) &#x3D;&gt; {
      if (this.data.CourseEdition.CourseId !&#x3D; unlockedSchedulePositions.CourseId ||
        this.data.CourseEdition.CourseEditionId !&#x3D; unlockedSchedulePositions.CourseEditionId ||
        this.data.CourseEdition.Room?.RoomId !&#x3D; unlockedSchedulePositions.RoomId ||
        this.data.SrcIndexes[1] !&#x3D; unlockedSchedulePositions.PeriodIndex - 1 ||
        this.data.SrcIndexes[0] !&#x3D; unlockedSchedulePositions.Day - 1) {
          return;
      }

      this.scheduledMoves.forEach((scheduledMove) &#x3D;&gt; {
        if (scheduledMove.SourceWeeks.some((week) &#x3D;&gt; unlockedSchedulePositions.Weeks.includes(week))) {
          this.scheduleDesignerApiService.AreSchedulePositionsLocked(
            this.data.CourseEdition.Room?.RoomId!, this.data.SrcIndexes[1] + 1, this.data.SrcIndexes[0] + 1,
              scheduledMove.SourceWeeks
          ).subscribe((response) &#x3D;&gt; {
            scheduledMove.IsLocked &#x3D; response.value;
            scheduledMove.IsLockedByAdmin &#x3D; response.byAdmin;
          })
        }
      });
    }));

    this.signalrSubscriptions.push(this.signalrService.lastAddedScheduledMove.pipe(skip(1)).subscribe((addedScheduledMove) &#x3D;&gt; {
      if (!this.data.IsModifying &amp;&amp; !addedScheduledMove.scheduledMove.IsConfirmed) {
        return;
      }
      
      if (this.data.CourseEdition.CourseId !&#x3D; addedScheduledMove.sourceSchedulePosition.CourseId ||
        this.data.CourseEdition.CourseEditionId !&#x3D; addedScheduledMove.sourceSchedulePosition.CourseEditionId ||
        this.data.CourseEdition.Room?.RoomId !&#x3D; addedScheduledMove.sourceSchedulePosition.RoomId ||
        this.data.SrcIndexes[1] !&#x3D; addedScheduledMove.sourceSchedulePosition.PeriodIndex - 1 ||
        this.data.SrcIndexes[0] !&#x3D; addedScheduledMove.sourceSchedulePosition.Day - 1) {
          return;
      }

      const commonWeeks &#x3D; addedScheduledMove.sourceSchedulePosition.Weeks.filter((week) &#x3D;&gt; this.data.CourseEdition.Weeks);

      if (commonWeeks.length &gt; 0) {
        this.scheduleDesignerApiService
          .GetConcreteScheduledMoves([addedScheduledMove.scheduledMove.MoveId], this.data.RoomTypes)
            .subscribe((scheduledMoveDetails) &#x3D;&gt; {
              this.scheduleDesignerApiService.AreSchedulePositionsLocked(
                this.data.CourseEdition.Room?.RoomId!, this.data.SrcIndexes[1] + 1, this.data.SrcIndexes[0] + 1,
                scheduledMoveDetails[0].SourceWeeks
              ).subscribe((response) &#x3D;&gt; {
                scheduledMoveDetails[0].IsLocked &#x3D; response.value;
                scheduledMoveDetails[0].IsLockedByAdmin &#x3D; response.byAdmin;
                
                this.scheduledMoves.push(scheduledMoveDetails[0]);
              });
            });
      }
    }));

    this.signalrSubscriptions.push(this.signalrService.lastRemovedScheduledMove.pipe(skip(1)).subscribe((removedScheduledMove) &#x3D;&gt; {
      this.scheduledMoves &#x3D; this.scheduledMoves.filter((scheduledMove) &#x3D;&gt; removedScheduledMove.moveId !&#x3D; scheduledMove.MoveId);

      if (this.scheduledMoves.length &gt; 0) {
        return;
      }

      const dialogResult &#x3D; new ScheduledChangesDialogResult();
      dialogResult.Message &#x3D; &quot;No changes left for this position.&quot;;
      this.dialogRef.close(dialogResult);
    }));

    this.signalrSubscriptions.push(this.signalrService.lastAcceptedScheduledMove.pipe(skip(1)).subscribe((acceptedScheduledMove) &#x3D;&gt; {
      this.scheduledMoves &#x3D; this.scheduledMoves.filter((scheduledMove) &#x3D;&gt; {
        if (acceptedScheduledMove.moveId &#x3D;&#x3D; scheduledMove.MoveId) {
          scheduledMove.IsConfirmed &#x3D; true;
        }
        return true;
      });
    }));

    const scheduledMoves &#x3D; (!this.data.IsModifying) ? this.data.CourseEdition.ScheduledMoves.filter(x &#x3D;&gt; x.IsConfirmed) : this.data.CourseEdition.ScheduledMoves;

    this.scheduleDesignerApiService
      .GetConcreteScheduledMoves(
        scheduledMoves.map(e &#x3D;&gt; e.MoveId), this.data.RoomTypes)
          .subscribe((scheduledMovesDetails) &#x3D;&gt; {
            this.scheduledMoves &#x3D; scheduledMovesDetails;

            const courseEdition &#x3D; this.data.CourseEdition;
            const srcIndexes &#x3D; this.data.SrcIndexes;
            const tasks:Observable&lt;{value: boolean, byAdmin: boolean}&gt;[] &#x3D; [];
            this.scheduledMoves.forEach((scheduledMove) &#x3D;&gt; {
              tasks.push(this.scheduleDesignerApiService.AreSchedulePositionsLocked(
                courseEdition.Room?.RoomId!, srcIndexes[1] + 1, srcIndexes[0] + 1,
                scheduledMove.SourceWeeks
              ));
            });
            
            forkJoin(tasks).subscribe((responses) &#x3D;&gt; {
              for (let i &#x3D; 0; i &lt; this.scheduledMoves.length; ++i) {
                this.scheduledMoves[i].IsLocked &#x3D; responses[i].value;
                this.scheduledMoves[i].IsLockedByAdmin &#x3D; responses[i].byAdmin;
              }

              this.loading &#x3D; false;
            });
          }, () &#x3D;&gt; {
            const dialogResult &#x3D; new ScheduledChangesDialogResult();
            dialogResult.Message &#x3D; &quot;Could not find scheduled changes for this course.&quot;;
            this.dialogRef.close(dialogResult);
          });
  }

  ShowFrequency(weeks:number[]) { 
    return CourseEdition.ShowFrequency(this.data.Settings, weeks);
  }

  /**
   * Metoda wyświetlająca dodatkowe informacje na temat wybranej zmiany lub propozycji.
   * @param selectedScheduledMove Wybrana zmiana lub propozycja
   */
  ShowInfo(selectedScheduledMove:ScheduledMoveDetails) {
    if (!this.isInfoVisible) {
      this.isInfoVisible &#x3D; true;
    }
    this.scheduleDesignerApiService.GetScheduledMoveInfo(selectedScheduledMove.MoveId).subscribe((info) &#x3D;&gt; {
      this.scheduledMoveInfo &#x3D; info;
    },() &#x3D;&gt; {
      this.scheduledMoveInfo &#x3D; null;
    });
  }

  /**
   * Metoda wykonuje operację usunięcia zaplanowanej zmiany lub propozycji z systemu.
   * @param selectedScheduledMove Wybrana zmiana lub propozycja
   */
  async Remove(selectedScheduledMove:ScheduledMoveDetails) {
    selectedScheduledMove.IsRemoving &#x3D; true;
    var isLocked &#x3D; false;
    
    try {
      const lockingResult &#x3D; await this.signalrService.LockSchedulePositions(
        this.data.CourseEdition.Room?.RoomId!, this.data.SrcIndexes[1] + 1,
        this.data.SrcIndexes[0] + 1, selectedScheduledMove.SourceWeeks
      ).toPromise();

      if (lockingResult.StatusCode &gt;&#x3D; 400) {
        throw lockingResult;
      }
      isLocked &#x3D; true;
      this.scheduledMoves.forEach((scheduledMove) &#x3D;&gt; {
        if (scheduledMove.SourceWeeks.some((week) &#x3D;&gt; selectedScheduledMove.SourceWeeks.includes(week))) {
          scheduledMove.IsLocked &#x3D; true;
          scheduledMove.IsLockedByAdmin &#x3D; this.data.IgnoreUsersLocks;
        }
      });

      const result &#x3D; await this.signalrService.RemoveScheduledMove(
        this.data.CourseEdition.Room?.RoomId!, this.data.SrcIndexes[1] + 1,
        this.data.SrcIndexes[0] + 1, selectedScheduledMove.SourceWeeks,
        selectedScheduledMove.DestRoom.RoomId, selectedScheduledMove.DestPeriodIndex, 
        selectedScheduledMove.DestDay, selectedScheduledMove.DestWeeks
      ).toPromise();

      if (result.StatusCode &gt;&#x3D; 400) {
        throw result;
      }
      
      this.scheduledMoves &#x3D; this.scheduledMoves.filter((scheduledMove) &#x3D;&gt; scheduledMove.MoveId !&#x3D; selectedScheduledMove.MoveId);
      
    } catch (error:any) {
      if (error.Message !&#x3D; undefined) {
        this.snackBar.open(error.Message, &quot;OK&quot;);
      } else {
        this.snackBar.open(&quot;You are not authorized to do this.&quot;, &quot;OK&quot;);
      }
    }
    
    if (isLocked) {
      try {
        const unlockingResult &#x3D; await this.signalrService.UnlockSchedulePositions(
          this.data.CourseEdition.Room?.RoomId!, this.data.SrcIndexes[1] + 1,
          this.data.SrcIndexes[0] + 1, selectedScheduledMove.SourceWeeks
        ).toPromise();
  
        if (unlockingResult.StatusCode &gt;&#x3D; 400) {
          throw unlockingResult;
        }

      } catch (error:any) {
      }
    }

    this.scheduledMoves.forEach((scheduledMove) &#x3D;&gt; {
      if (scheduledMove.SourceWeeks.some((week) &#x3D;&gt; selectedScheduledMove.SourceWeeks.includes(week))) {
        this.scheduleDesignerApiService.AreSchedulePositionsLocked(
          this.data.CourseEdition.Room?.RoomId!, this.data.SrcIndexes[1] + 1, this.data.SrcIndexes[0] + 1,
            scheduledMove.SourceWeeks
        ).subscribe((response) &#x3D;&gt; {
          scheduledMove.IsLocked &#x3D; response.value;
          scheduledMove.IsLockedByAdmin &#x3D; response.byAdmin;
        })
      }
    });
    selectedScheduledMove.IsRemoving &#x3D; false;
  }

  /**
   * Metoda wykonuje operację zaakceptowania propozycji w systemie.
   * @param selectedScheduledMove Wybrana propozycja
   */
  async Accept(selectedScheduledMove:ScheduledMoveDetails) {
    selectedScheduledMove.IsAccepting &#x3D; true;
    var isLocked &#x3D; false;

    try {
      const lockingResult &#x3D; await this.signalrService.LockSchedulePositions(
        this.data.CourseEdition.Room?.RoomId!, this.data.SrcIndexes[1] + 1,
        this.data.SrcIndexes[0] + 1, selectedScheduledMove.SourceWeeks
      ).toPromise();

      if (lockingResult.StatusCode &gt;&#x3D; 400) {
        throw lockingResult;
      }
      isLocked &#x3D; true;
      this.scheduledMoves.forEach((scheduledMove) &#x3D;&gt; {
        if (scheduledMove.SourceWeeks.some((week) &#x3D;&gt; selectedScheduledMove.SourceWeeks.includes(week))) {
          scheduledMove.IsLocked &#x3D; true;
          scheduledMove.IsLockedByAdmin &#x3D; this.data.IgnoreUsersLocks;
        }
      });

      const result &#x3D; await this.signalrService.AcceptProposition(
        this.data.CourseEdition.Room?.RoomId!, this.data.SrcIndexes[1] + 1,
        this.data.SrcIndexes[0] + 1, selectedScheduledMove.SourceWeeks,
        selectedScheduledMove.DestRoom.RoomId, selectedScheduledMove.DestPeriodIndex, 
        selectedScheduledMove.DestDay, selectedScheduledMove.DestWeeks
      ).toPromise();

      if (result.StatusCode &gt;&#x3D; 400) {
        throw result;
      }
      
      selectedScheduledMove.IsConfirmed &#x3D; true;
    } catch (error:any) {
      if (error.Message !&#x3D; undefined) {
        this.snackBar.open(error.Message, &quot;OK&quot;);
      } else {
        this.snackBar.open(&quot;You are not authorized to do this.&quot;, &quot;OK&quot;);
      }
    }

    if (isLocked) {
      try {
        const unlockingResult &#x3D; await this.signalrService.UnlockSchedulePositions(
          this.data.CourseEdition.Room?.RoomId!, this.data.SrcIndexes[1] + 1,
          this.data.SrcIndexes[0] + 1, selectedScheduledMove.SourceWeeks
        ).toPromise();
  
        if (unlockingResult.StatusCode &gt;&#x3D; 400) {
          throw unlockingResult;
        }
        
        selectedScheduledMove.IsLocked &#x3D; false;
        selectedScheduledMove.IsLockedByAdmin &#x3D; false;
      } catch (error:any) {

      }
    }

    this.scheduledMoves.forEach((scheduledMove) &#x3D;&gt; {
      if (scheduledMove.SourceWeeks.some((week) &#x3D;&gt; selectedScheduledMove.SourceWeeks.includes(week))) {
        this.scheduleDesignerApiService.AreSchedulePositionsLocked(
          this.data.CourseEdition.Room?.RoomId!, this.data.SrcIndexes[1] + 1, this.data.SrcIndexes[0] + 1,
            scheduledMove.SourceWeeks
        ).subscribe((response) &#x3D;&gt; {
          scheduledMove.IsLocked &#x3D; response.value;
          scheduledMove.IsLockedByAdmin &#x3D; response.byAdmin;
        })
      }
    });
    selectedScheduledMove.IsAccepting &#x3D; true;
  }

  ngOnDestroy() {
    this.signalrSubscriptions.forEach(
      subscription &#x3D;&gt; subscription.unsubscribe()
    );
    this.isConnectedSubscription.unsubscribe();
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;h2 mat-dialog-title&gt;
    &lt;b&gt;{{data.IsModifying ? &#x27;Managing&#x27; : &#x27;Showing&#x27;}} scheduled moves for:&lt;/b&gt;
    &lt;br&gt;
    &lt;i&gt;{{data.CourseEdition.Name}} - {{data.CourseEdition.Type.Name}}&lt;/i&gt;&lt;br&gt;
    &lt;u&gt;{{data.DayLabels[data.SrcIndexes[0]]}}: {{data.TimeLabels[data.SrcIndexes[1]]}}&lt;/u&gt;, &lt;i&gt;{{data.CourseEdition.Room?.Name}}&lt;/i&gt;
    &lt;br&gt;
    {{(data.CourseEdition.Weeks !&#x3D; null) ? ShowFrequency(data.CourseEdition.Weeks) : &#x27;&#x27;}}
&lt;/h2&gt;
&lt;div *ngIf&#x3D;&quot;!loading&quot; mat-dialog-content&gt;
    &lt;mat-list role&#x3D;&quot;list&quot;&gt;
        &lt;mat-divider&gt;&lt;/mat-divider&gt;
        &lt;mat-list-item role&#x3D;&quot;listitem&quot; *ngFor&#x3D;&quot;let scheduledMove of scheduledMoves&quot;&gt;
            &lt;div class&#x3D;&quot;item-text&quot; matLine&gt;
                &lt;b&gt;From:&lt;/b&gt; {{ShowFrequency(scheduledMove.SourceWeeks)}}
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;item-text&quot; matLine&gt;
                &lt;b&gt;To:&lt;/b&gt; {{ShowFrequency(scheduledMove.DestWeeks)}}, &lt;u&gt;{{data.DayLabels[scheduledMove.DestDay - 1]}}: 
                {{data.TimeLabels[scheduledMove.DestPeriodIndex - 1]}}&lt;/u&gt;, &lt;i&gt;{{scheduledMove.DestRoom.Name}}&lt;/i&gt;
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;item-buttons&quot;&gt;
                &lt;div *ngIf&#x3D;&quot;data.IsModifying&quot;&gt;
                    &lt;button *ngIf&#x3D;&quot;!scheduledMove.IsConfirmed&quot; 
                    mat-raised-button class&#x3D;&quot;confirm&quot; style&#x3D;&quot;margin-right: 1vw;&quot;
                    [disabled]&#x3D;&quot;data.PropositionUserId !&#x3D; null || (!data.IgnoreUsersLocks &amp;&amp; scheduledMove.IsLocked) 
                        || (data.IgnoreUsersLocks &amp;&amp; scheduledMove.IsLockedByAdmin &amp;&amp; scheduledMove.IsLocked) || scheduledMove.IsAccepting&quot;
                    (click)&#x3D;&quot;Accept(scheduledMove)&quot;&gt;Confirm&lt;/button&gt;
                    
                    &lt;button mat-raised-button color&#x3D;&quot;warn&quot; style&#x3D;&quot;margin-right: 1vw;&quot;
                    [disabled]&#x3D;&quot;(data.PropositionUserId !&#x3D; null &amp;&amp; (scheduledMove.IsConfirmed || (!scheduledMove.IsConfirmed &amp;&amp; scheduledMove.UserId !&#x3D; data.PropositionUserId))) 
                        || (!data.IgnoreUsersLocks &amp;&amp; scheduledMove.IsLocked) 
                        || (data.IgnoreUsersLocks &amp;&amp; scheduledMove.IsLockedByAdmin &amp;&amp; scheduledMove.IsLocked) || scheduledMove.IsRemoving&quot; 
                    (click)&#x3D;&quot;Remove(scheduledMove)&quot;&gt;Remove&lt;/button&gt;
                &lt;/div&gt;
                
                &lt;div&gt;
                    &lt;button mat-icon-button color&#x3D;&quot;primary&quot; 
                    (click)&#x3D;&quot;ShowInfo(scheduledMove)&quot;&gt;
                        &lt;mat-icon&gt;info&lt;/mat-icon&gt;
                    &lt;/button&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;mat-divider&gt;&lt;/mat-divider&gt;
        &lt;/mat-list-item&gt;
    &lt;/mat-list&gt;
    &lt;br&gt;
    &lt;div *ngIf&#x3D;&quot;isInfoVisible&quot;&gt;
        &lt;mat-label&gt;Created by: &lt;b&gt;{{scheduledMoveInfo?.Titles?.TitleBefore}} {{scheduledMoveInfo?.FirstName}} {{scheduledMoveInfo?.LastName}} {{scheduledMoveInfo?.Titles?.TitleAfter}}&lt;/b&gt;&lt;/mat-label&gt;
        &lt;div *ngIf&#x3D;&quot;scheduledMoveInfo?.Message !&#x3D; null; else noMessageAttached&quot;&gt;
            &lt;mat-label&gt;Attached message:&lt;/mat-label&gt;
            &lt;mat-form-field style&#x3D;&quot;width: 100%&quot;&gt;
                &lt;textarea matInput maxlength&#x3D;&quot;300&quot; type&#x3D;&quot;text&quot; [ngModel]&#x3D;&quot;scheduledMoveInfo?.Message&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; readonly cdkTextareaAutosize&gt;&lt;/textarea&gt;
            &lt;/mat-form-field&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;mat-dialog-actions align&#x3D;&quot;end&quot;&gt;
    &lt;button mat-button mat-dialog-close cdkFocusInitial&gt;Close&lt;/button&gt;
&lt;/mat-dialog-actions&gt;

&lt;ng-template #noMessageAttached&gt;
    &lt;br&gt;
    &lt;mat-label&gt;No message attached.&lt;/mat-label&gt;
&lt;/ng-template&gt;</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./scheduled-changes-view.component.css</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">h2[mat-dialog-title] {
    font-weight: normal;
    text-align: center;
}

div[mat-dialog-content] {
    min-width: 55vw;
    max-height: 50vh;
    overflow-y: auto;
}

.item-buttons {
    display: flex;
}

.mat-divider {
    border-color: #00000048;
}

.confirm {
    background-color:green; 
    color: white;
}</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><h2 mat-dialog-title>    <b>{{data.IsModifying ? \'Managing\' : \'Showing\'}} scheduled moves for:</b>    <br>    <i>{{data.CourseEdition.Name}} - {{data.CourseEdition.Type.Name}}</i><br>    <u>{{data.DayLabels[data.SrcIndexes[0]]}}: {{data.TimeLabels[data.SrcIndexes[1]]}}</u>, <i>{{data.CourseEdition.Room?.Name}}</i>    <br>    {{(data.CourseEdition.Weeks != null) ? ShowFrequency(data.CourseEdition.Weeks) : \'\'}}</h2><div *ngIf="!loading" mat-dialog-content>    <mat-list role="list">        <mat-divider></mat-divider>        <mat-list-item role="listitem" *ngFor="let scheduledMove of scheduledMoves">            <div class="item-text" matLine>                <b>From:</b> {{ShowFrequency(scheduledMove.SourceWeeks)}}            </div>            <div class="item-text" matLine>                <b>To:</b> {{ShowFrequency(scheduledMove.DestWeeks)}}, <u>{{data.DayLabels[scheduledMove.DestDay - 1]}}:                 {{data.TimeLabels[scheduledMove.DestPeriodIndex - 1]}}</u>, <i>{{scheduledMove.DestRoom.Name}}</i>            </div>            <div class="item-buttons">                <div *ngIf="data.IsModifying">                    <button *ngIf="!scheduledMove.IsConfirmed"                     mat-raised-button class="confirm" style="margin-right: 1vw;"                    [disabled]="data.PropositionUserId != null || (!data.IgnoreUsersLocks && scheduledMove.IsLocked)                         || (data.IgnoreUsersLocks && scheduledMove.IsLockedByAdmin && scheduledMove.IsLocked) || scheduledMove.IsAccepting"                    (click)="Accept(scheduledMove)">Confirm</button>                                        <button mat-raised-button color="warn" style="margin-right: 1vw;"                    [disabled]="(data.PropositionUserId != null && (scheduledMove.IsConfirmed || (!scheduledMove.IsConfirmed && scheduledMove.UserId != data.PropositionUserId)))                         || (!data.IgnoreUsersLocks && scheduledMove.IsLocked)                         || (data.IgnoreUsersLocks && scheduledMove.IsLockedByAdmin && scheduledMove.IsLocked) || scheduledMove.IsRemoving"                     (click)="Remove(scheduledMove)">Remove</button>                </div>                                <div>                    <button mat-icon-button color="primary"                     (click)="ShowInfo(scheduledMove)">                        <mat-icon>info</mat-icon>                    </button>                </div>            </div>            <mat-divider></mat-divider>        </mat-list-item>    </mat-list>    <br>    <div *ngIf="isInfoVisible">        <mat-label>Created by: <b>{{scheduledMoveInfo?.Titles?.TitleBefore}} {{scheduledMoveInfo?.FirstName}} {{scheduledMoveInfo?.LastName}} {{scheduledMoveInfo?.Titles?.TitleAfter}}</b></mat-label>        <div *ngIf="scheduledMoveInfo?.Message != null; else noMessageAttached">            <mat-label>Attached message:</mat-label>            <mat-form-field style="width: 100%">                <textarea matInput maxlength="300" type="text" [ngModel]="scheduledMoveInfo?.Message" [ngModelOptions]="{standalone: true}" readonly cdkTextareaAutosize></textarea>            </mat-form-field>        </div>    </div></div><mat-dialog-actions align="end">    <button mat-button mat-dialog-close cdkFocusInitial>Close</button></mat-dialog-actions><ng-template #noMessageAttached>    <br>    <mat-label>No message attached.</mat-label></ng-template></div>'
    var COMPONENTS = [{'name': 'AddRoomSelectionComponent', 'selector': 'app-add-room-selection'},{'name': 'AdministratorPanelComponent', 'selector': 'app-administrator-panel'},{'name': 'AdminResourcesComponent', 'selector': 'app-admin-resources'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'AuthenticatedComponent', 'selector': 'app-authenticated'},{'name': 'AvailableResourcesComponent', 'selector': 'app-available-resources'},{'name': 'ClearFieldComponent', 'selector': 'app-clear-field'},{'name': 'CourseComponent', 'selector': 'app-course'},{'name': 'CourseEditionFieldComponent', 'selector': 'app-course-edition-field'},{'name': 'CourseFieldComponent', 'selector': 'app-course-field'},{'name': 'CourseTypeFieldComponent', 'selector': 'app-course-type-field'},{'name': 'ExportFieldComponent', 'selector': 'app-export-field'},{'name': 'FullScheduleComponent', 'selector': 'app-full-schedule'},{'name': 'GroupFieldComponent', 'selector': 'app-group-field'},{'name': 'ImportFieldComponent', 'selector': 'app-import-field'},{'name': 'LoginComponent', 'selector': 'app-login'},{'name': 'LoginComponent', 'selector': 'app-login'},{'name': 'MyCoursesComponent', 'selector': 'app-my-courses'},{'name': 'PersonalScheduleComponent', 'selector': 'app-personal-schedule'},{'name': 'ProfileComponent', 'selector': 'app-profile'},{'name': 'RoomFieldComponent', 'selector': 'app-room-field'},{'name': 'RoomSelectionComponent', 'selector': 'app-room-selection'},{'name': 'RoomTypeFieldComponent', 'selector': 'app-room-type-field'},{'name': 'ScheduleComponent', 'selector': 'app-schedule'},{'name': 'ScheduledChangesViewComponent', 'selector': 'app-scheduled-changes-view'},{'name': 'SelectViewComponent', 'selector': 'app-select-view'},{'name': 'SettingsFieldComponent', 'selector': 'app-settings-field'},{'name': 'StudentScheduleComponent', 'selector': 'app-student-schedule'},{'name': 'UserFieldComponent', 'selector': 'app-user-field'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'ScheduledChangesViewComponent'};
</script>
<script src="../js/tree.js"></script>
















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'ScheduledChangesViewComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
